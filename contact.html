<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2.4.0/dist/email.min.js"></script>
        <link rel='stylesheet' href='CSS files/contact.css'>
        <link rel="icon" type="image/x-icon" href="Icons/favicon.png">
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>Forest Shot</title>
    </head>
<body>
    <button onclick="topFunction()" class="topbutton" id="topbutton">Back To Top</button>
    <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="mission.html">Our Mission</a></li>
        <li><img src= "Icons/logo no bg.png" alt="logo"></li>
        <li><a href="can.html">About The Can</a></li>
        <li><a href="blog.html">Blog</a></li>
      </ul>
    <div>   
        <div class="card" style="top: 3vw;">   
        <h1>Get in touch</h1>
        <table><tr><td><input placeholder="Email..." class="short" id="returnemail"></td> <td><input placeholder="Subject..." class="short" id="subject"></td></tr></table>
        <textarea rows='10' prompt="Message..." class="long" id='content'></textarea>
        <button class="submitbutton" id='sendemail' onclick="email()">Submit</button>
        </div> 
    <div class='card' style="position: relative; top: 3vw;">
    <h1 style="position: relative;  top: 10vw;">Or message us on:</h1>
    <table>
        <tr>
            <td><a href="https://www.instagram.com/forest_shot2024/#" class="socials"><img src="Icons/instagram.svg" alt="instagram Icon" style="width: 100%;"></a></td>
            <td><a onclick="copy()" class="email_icon"><img src="Icons/email.svg" alt="Email Icon" style="width: 100%;"><span id='email_tt'>forest_shots2024@gmail.com</span></a></td>
        </tr>
    </table>
    </div>
    </div>
</body>
</html>

<script>
    let mybutton = document.getElementById("topbutton");


    window.onscroll = function() {scrollFunction()};

    function scrollFunction() {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
        mybutton.style.display = "block";
        }
    }


    function topFunction() {
        document.body.scrollTop = 0; 
        document.documentElement.scrollTop = 0; 
        mybutton.style.display = 'none';
    }

    function email() {
        document.getElementById('sendemail').innerHTML='Sent!'
        let returnemail = document.getElementById('returnemail')
        let subject = document.getElementById('subject')
        let content = document.getElementById('content')
        let email = {
            to_name: 'forestshots2024@gmail.com',
            from_name: 'forestshots2024@gmail.com',
            message_html: content + ' From the email: '+returnemail,
        }
        let keys = { 
            publicKey: '87cp_0Tuss73dnAwZ',
            privateKey: 'fdgoJpEUmcydiGxuK_eaI',
        }
        emailjs.send('service_du23w5s','template_4p0al4o',email,keys)
        .then(
        (response) => {
            console.log("Email SUCCESS!", response.status, response.text);
        },
        (err) => {
            console.log("Email FAILED...", err);
        }
        );
    }

    function copy(){
        let tooltip = document.getElementById('email_tt')
        navigator.clipboard.writeText(tooltip.innerHTML)
        tooltip.innerHTML = 'Copied!'
    }
</script>